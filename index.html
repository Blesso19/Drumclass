<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Notation Maker PRO</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
:root{
  --bg:#050814;
  --panel:rgba(22,30,60,0.85);
  --glass:rgba(255,255,255,0.08);
  --accent:#7df9ff;
  --accent2:#9b5cff;
  --danger:#ff5c6c;
  --text:#ffffff;
  --muted:#9ba4d6;
}

*{box-sizing:border-box}

body{
  margin:0;
  background:radial-gradient(circle at top,#0b1440,#050814);
  color:var(--text);
  font-family:system-ui,-apple-system;
}

header{
  padding:14px;
  text-align:center;
  font-size:22px;
  font-weight:700;
  background:linear-gradient(90deg,var(--accent2),var(--accent));
  -webkit-background-clip:text;
  color:transparent;
}

/* LAYOUT */
.app{
  max-width:1200px;
  margin:auto;
  padding:10px;
}

/* PALETTE */
.palette{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(48px,1fr));
  gap:8px;
  padding:12px;
  background:var(--panel);
  border-radius:18px;
  backdrop-filter:blur(12px);
  box-shadow:0 0 20px rgba(124,249,255,.15);
}

/* BUTTONS */
.sym, .control{
  background:var(--glass);
  border:1px solid rgba(255,255,255,.12);
  border-radius:12px;
  padding:8px;
  font-size:16px;
  color:var(--text);
  cursor:pointer;
  transition:.2s;
}

.sym:hover, .control:hover{
  transform:scale(1.1);
  box-shadow:0 0 12px var(--accent);
}

.sym.active{
  background:linear-gradient(135deg,var(--accent2),var(--accent));
  color:#000;
  font-weight:700;
}

.control.delete-all{
  background:var(--danger);
  color:white;
  font-weight:700;
}

.control.delete-all:hover{
  box-shadow:0 0 12px var(--danger);
}

/* CANVAS */
.canvas-wrap{
  margin-top:14px;
  background:var(--panel);
  border-radius:20px;
  padding:12px;
}

canvas{
  width:100%;
  background:#070d2a;
  border-radius:16px;
}

/* FOOTER */
.footer{
  text-align:center;
  font-size:12px;
  color:var(--muted);
  padding:10px;
}
</style>
</head>

<body>

<header>ğŸ¼ Notation Maker PRO</header>

<div class="app">

  <!-- SYMBOL PALETTE -->
  <div class="palette" id="palette">

    <!-- NOTES -->
    <button class="sym" data-s="â—">â—</button>
    <button class="sym" data-s="â—¦">â—¦</button>
    <button class="sym" data-s="Ã—">Ã—</button>
    <button class="sym" data-s="ğ…Ÿ">ğ…Ÿ</button>
    <button class="sym" data-s="ğ…">ğ…</button>
    <button class="sym" data-s="ğ…">ğ…</button>

    <!-- RESTS -->
    <button class="sym" data-s="ğ„»">ğ„»</button>
    <button class="sym" data-s="ğ„¼">ğ„¼</button>
    <button class="sym" data-s="ğ„½">ğ„½</button>
    <button class="sym" data-s="ğ„¾">ğ„¾</button>

    <!-- ACCIDENTALS -->
    <button class="sym" data-s="#">#</button>
    <button class="sym" data-s="â™­">â™­</button>
    <button class="sym" data-s="â™®">â™®</button>

    <!-- ARTICULATION -->
    <button class="sym" data-s=">">></button>
    <button class="sym" data-s="ğ†“">ğ†“</button>

    <!-- DYNAMICS -->
    <button class="sym" data-s="pp">pp</button>
    <button class="sym" data-s="p">p</button>
    <button class="sym" data-s="mf">mf</button>
    <button class="sym" data-s="f">f</button>
    <button class="sym" data-s="ff">ff</button>

    <!-- TEXT -->
    <button class="sym" data-s="rit.">rit.</button>
    <button class="sym" data-s="cresc.">cresc.</button>

    <!-- CONTROLS -->
    <button class="control delete-all" id="clearAll">ğŸ—‘ Clear All</button>
  </div>

  <!-- STAFF -->
  <div class="canvas-wrap">
    <canvas id="staff" width="1100" height="440"></canvas>
  </div>

</div>

<div class="footer">
Select symbol â†’ Click staff to add â€¢ Click note to delete â€¢ Clear All deletes everything
</div>

<script>
const canvas = document.getElementById("staff");
const ctx = canvas.getContext("2d");

const state={
  active:"â—",
  items:[]
};

/* STAFF CONFIG */
const staffTop=150;
const lineGap=26;
const lines=5;
const left=60;
const right=1040;
const hitRadius=12;

/* PALETTE LOGIC */
document.querySelectorAll(".sym").forEach(btn=>{
  btn.onclick=()=>{
    document.querySelectorAll(".sym").forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");
    state.active=btn.dataset.s;
  };
});
document.querySelector(".sym").classList.add("active");

/* CLEAR ALL */
document.getElementById("clearAll").onclick=()=>{
  if(confirm("Delete all notes?")){
    state.items=[];
    draw();
  }
};

/* DRAW STAFF */
function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  ctx.strokeStyle="#9db4ff";
  ctx.lineWidth=1;

  for(let i=0;i<lines;i++){
    const y=staffTop+i*lineGap;
    ctx.beginPath();
    ctx.moveTo(left,y);
    ctx.lineTo(right,y);
    ctx.stroke();
  }

  state.items.forEach(n=>{
    ctx.fillStyle="#fff";
    ctx.textAlign="center";
    ctx.textBaseline="middle";
    ctx.font="20px serif";
    ctx.fillText(n.s,n.x,n.y);
  });
}

/* HIT TEST */
function findNote(x,y){
  return state.items.findIndex(n=>{
    return Math.hypot(n.x-x,n.y-y)<hitRadius;
  });
}

/* POINTER */
canvas.addEventListener("pointerdown",e=>{
  const r=canvas.getBoundingClientRect();
  const x=(e.clientX-r.left)*(canvas.width/r.width);
  let y=(e.clientY-r.top)*(canvas.height/r.height);

  // Delete if hit
  const hit=findNote(x,y);
  if(hit!==-1){
    state.items.splice(hit,1);
    draw();
    return;
  }

  // Snap to staff
  let idx=Math.round((y-staffTop)/lineGap);
  idx=Math.max(0,Math.min(lines-1,idx));
  y=staffTop+idx*lineGap;

  state.items.push({x,y,s:state.active});
  draw();
});

draw();
</script>

</body>
</html>
