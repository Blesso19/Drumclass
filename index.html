<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Drum Notation Maker PRO</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
:root{
  --bg:#050814;
  --panel:rgba(22,30,60,.85);
  --glass:rgba(255,255,255,.08);
  --accent:#FFFFFF;
  --accent2:#a16bff;
  --danger:#ff5c6c;
}

*{box-sizing:border-box, color:#FFFFFF;}

body{
  margin:0;
  background:radial-gradient(circle at top,#0b1440,#050814);
  font-family:system-ui;
  color: #fffff ;
}

header{
  padding:14px;
  font-size:22px;
  text-align:center;
  font-weight:700;
  background:linear-gradient(90deg,var(--accent2),var(--accent));
  color:#000;
}

.app{
  max-width:1200px;
  padding:10px;
  margin:auto;
}

/* TOOLBAR */
.toolbar{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  background:var(--panel);
  padding:12px;
  border-radius:18px;
}

.sym, .ctrl{
  padding:10px 14px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.2);
  background:var(--glass);
  font-size:18px;
  cursor:pointer;
}

.sym.active{
  background:linear-gradient(135deg,var(--accent2),var(--accent));
  color:#000;
  font-weight:bold;
}

.ctrl.clear{background:var(--danger)}

select{
  background:var(--glass);
  color:#fff;
  border-radius:12px;
  padding:8px;
}

/* CANVAS */
.canvas-wrap{
  margin-top:14px;
  background:var(--panel);
  border-radius:20px;
  padding:14px;
  color:#FFFFFF;
}

canvas{
  width:100%;
  border-radius:14px;
  background:#070d2a;
}
</style>
</head>

<body>
<header>ğŸ¥ Drum Notation Maker PRO</header>

<div class="app">

<div class="toolbar">
  <button class="sym" data-s="â—">â—</button>
  <button class="sym" data-s="â—¦">â—¦</button>
  <button class="sym" data-s="Ã—">Ã—</button>
  <button class="sym" data-s="ğ…Ÿ">ğ…Ÿ</button>
  <button class="sym" data-s="ğ…">ğ…</button>
  <button class="sym" data-s="ğ„½">ğ„½</button>

  <select id="timeSig">
    <option>4/4</option>
    <option>3/4</option>
    <option>6/8</option>
    <option>2/4</option>
  </select>

  <button class="ctrl" id="addStaff">â• Add Staff</button>
  <button class="ctrl clear" id="clearAll">ğŸ—‘ Clear</button>
</div>

<div class="canvas-wrap">
  <canvas id="score" width="1200" height="600"></canvas>
</div>

</div>

<script>
const canvas=document.getElementById("score");
const ctx=canvas.getContext("2d");

let activeSymbol="â—";
const staffGap=160;
const lineGap=28;
const left=120;
const right=1120;
const bars=4;

const score={
  time:"4/4",
  staffs:[{notes:[]}]
};

/* SYMBOL SELECT */
document.querySelectorAll(".sym").forEach(b=>{
  b.onclick=()=>{
    document.querySelectorAll(".sym").forEach(s=>s.classList.remove("active"));
    b.classList.add("active");
    activeSymbol=b.dataset.s;
  };
});
document.querySelector(".sym").classList.add("active");

/* TIME SIGNATURE */
document.getElementById("timeSig").onchange=e=>{
  score.time=e.target.value;
  draw();
};

/* ADD STAFF */
document.getElementById("addStaff").onclick=()=>{
  score.staffs.push({notes:[]});
  canvas.height=score.staffs.length*staffGap+200;
  draw();
};

/* CLEAR */
document.getElementById("clearAll").onclick=()=>{
  score.staffs=[{notes:[]}];
  canvas.height=600;
  draw();
};

/* DRAW */
function draw(){
ctx.clearRect(0,0,canvas.width,canvas.height);

score.staffs.forEach((staff,idx)=>{
  const top=100+idx*staffGap;

  /* STAFF LINES */
  ctx.strokeStyle="#b8c9ff";
  ctx.lineWidth=2;
  for(let i=0;i<5;i++){
    ctx.beginPath();
    ctx.moveTo(left,top+i*lineGap);
    ctx.lineTo(right,top+i*lineGap);
    ctx.stroke();
  }

  /* DRUM CLEF */
  ctx.font="48px serif";
  ctx.textAlign="center";
  ctx.textBaseline="middle";
  ctx.fillText("ğ„¥", left-60, top+lineGap*2);

  /* TIME SIGNATURE */
  ctx.font="30px serif";
  ctx.fillText(score.time.split("/")[0], left-20, top+lineGap);
  ctx.fillText(score.time.split("/")[1], left-20, top+lineGap*3);

  /* BAR LINES */
  const barW=(right-left)/bars;
  for(let i=0;i<=bars;i++){
    ctx.beginPath();
    ctx.moveTo(left+i*barW,top);
    ctx.lineTo(left+i*barW,top+lineGap*4);
    ctx.stroke();
  }

  /* DOUBLE END BAR */
  ctx.lineWidth=4;
  ctx.beginPath();
  ctx.moveTo(right+6,top);
  ctx.lineTo(right+6,top+lineGap*4);
  ctx.stroke();
  ctx.lineWidth=2;

  /* NOTES */
  staff.notes.forEach(n=>{
    ctx.font="62px serif";
    ctx.textAlign="center";
    ctx.textBaseline="middle";
    ctx.fillText(n.s,n.x,n.y);
  });
});
}

/* NOTE INPUT */
canvas.onclick=e=>{
const r=canvas.getBoundingClientRect();
const x=(e.clientX-r.left)*(canvas.width/r.width);
let y=(e.clientY-r.top)*(canvas.height/r.height);

score.staffs.forEach((staff,idx)=>{
const top=100+idx*staffGap;
if(y>top-40 && y<top+lineGap*5+40){
  const unit=lineGap/2;
  let row=Math.round((y-top+lineGap)/unit);
  let snapY=top-lineGap+row*unit;
  staff.notes.push({x,y:snapY,s:activeSymbol});
}
});
draw();
};

draw();
</script>
</body>
</html>
